# Install microk8s
sudo snap install microk8s --classic
micok8s start

# Adding a node (optional)
sudo microk8s.add-node
microk8s.kubectl get node

# Create an alias for kubectl
nano ~/.bashrc
-> Add to the end of this file: alias kubectl='microk8s kubectl'

# Deploy an image
kubectl apply -f deploy.yaml
kubectl get pods
kubectl get services

# Enabling Dashboard
microk8s enable dashboard
microk8s kubectl describe secret -n kube-system microk8s-dashboard-token
https://github.com/kubernetes/dashboard/blob/master/docs/user/access-control/creating-sample-user.md

#Start Dashboard
 microk8s kubectl port-forward -n kube-system service/kubernetes-dashboard 10443:443 --address 0.0.0.0
 ->> https://smarthomepi2:10443/

# Get kube.config to allow access from a remote computer
microk8s config > kube.config
scp kube.config pi@smarthomepi2:/home/pi/.kube/config
setx KUBECONFIG "C:\path\to\your\kubeconfig\file"
kubectl get nodes

# bashing into a pod
kubectl exec -it chargingservice-84bd6f7b4d-sds7l -- bash
apt install iputils-ping
ping keba-garage
apt install netcat-traditional
nc -u -v -z -w 1 keba-garage 7090
apt install dnsutils
nslookup pvservice-service
kubectl describe pod pvservice-57bfd86956-8x898
kubectl get endpoints chargingservice-service